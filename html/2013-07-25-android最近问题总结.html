<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>android最近问题总结  | Return&#39;s Blog </title>
  <meta name="author" content="Return">
  
  <meta name="description" content="专注于互联网开发技术，注重网络安全技术，注重网络攻防技术，注重渗透测试技术，backtrack5渗透测试平台研究，软件开发，网页设计，网页制作，网站建设">
  
  
  <meta property="og:title" content="android最近问题总结 "/>
  <meta property="og:site_name" content="Return&#39;s Blog "/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta property="og:image" content="undefined"/>
  
   <link rel="apple-touch-icon" href="/icon.png" />
   <link rel="shortcut icon" href="/favicon.png" >
   <link rel="alternate" href="http://www.creturn.com/atom.xml" title="Return&#39;s Blog " type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
</head>


<body>
  <div id="content" class="inner">
    <aside id="sidebar" class="alignleft">
      <div class="navigationBar">
        <a href="/">Return&#39;s Blog </a>
      </div>
    	
  <nav class="widget" id="menu">
	<ul>
    
      <li class="cell"><a class="next" href="/">Home</a><li>
    
      <li class="cell"><a class="next" href="/archives/">Archives</a><li>
    
      <li class="cell"><a class="next" href="/about/">About</a><li>
    
    </ul>
</nav>

  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/原创作品/">原创作品</a><small>30</small></li>
  
    <li><a href="/categories/原创作品/技术文章/">技术文章</a><small>23</small></li>
  
    <li><a href="/categories/技术文章/">技术文章</a><small>7</small></li>
  
    <li><a href="/categories/技术文章/最新漏洞/">最新漏洞</a><small>2</small></li>
  
    <li><a href="/categories/原创作品/技术文章/最新漏洞/">最新漏洞</a><small>3</small></li>
  
    <li><a href="/categories/最新漏洞/">最新漏洞</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">标签云</h3>
  <div class="entry">
    <a href="/tags/Android/" style="font-size: 10.00px;">Android</a><a href="/tags/Backtrack5/" style="font-size: 10.00px;">Backtrack5</a><a href="/tags/Metasploit/" style="font-size: 10.00px;">Metasploit</a><a href="/tags/Mysql/" style="font-size: 10.00px;">Mysql</a><a href="/tags/Nginx解析漏洞/" style="font-size: 10.00px;">Nginx解析漏洞</a><a href="/tags/Return/" style="font-size: 10.00px;">Return</a><a href="/tags/ThinkPHP远程/" style="font-size: 10.00px;">ThinkPHP远程</a><a href="/tags/alfred/" style="font-size: 10.00px;">alfred</a><a href="/tags/android/" style="font-size: 13.33px;">android</a><a href="/tags/apache/" style="font-size: 10.00px;">apache</a><a href="/tags/armitage/" style="font-size: 10.00px;">armitage</a><a href="/tags/arp欺骗/" style="font-size: 10.00px;">arp欺骗</a><a href="/tags/cain/" style="font-size: 10.00px;">cain</a><a href="/tags/dedecms漏洞/" style="font-size: 10.00px;">dedecms漏洞</a><a href="/tags/easyui/" style="font-size: 10.00px;">easyui</a><a href="/tags/eclipse/" style="font-size: 10.00px;">eclipse</a><a href="/tags/java/" style="font-size: 10.00px;">java</a><a href="/tags/linux-arp欺骗/" style="font-size: 10.00px;">linux arp欺骗</a><a href="/tags/os-x/" style="font-size: 10.00px;">os x</a><a href="/tags/php/" style="font-size: 13.33px;">php</a><a href="/tags/phpcmsv9漏洞/" style="font-size: 16.67px;">phpcmsv9漏洞</a><a href="/tags/phpcsm2008漏洞/" style="font-size: 10.00px;">phpcsm2008漏洞</a><a href="/tags/python/" style="font-size: 13.33px;">python</a><a href="/tags/thinkPHP漏洞/" style="font-size: 10.00px;">thinkPHP漏洞</a><a href="/tags/ubuntu/" style="font-size: 10.00px;">ubuntu</a><a href="/tags/web-wifi认证/" style="font-size: 10.00px;">web wifi认证</a><a href="/tags/webshell/" style="font-size: 20.00px;">webshell</a><a href="/tags/window密码/" style="font-size: 10.00px;">window密码</a><a href="/tags/wordpress漏洞/" style="font-size: 13.33px;">wordpress漏洞</a><a href="/tags/workflow/" style="font-size: 10.00px;">workflow</a><a href="/tags/xUtils/" style="font-size: 10.00px;">xUtils</a><a href="/tags/互联网技术/" style="font-size: 10.00px;">互联网技术</a><a href="/tags/任意密码登录/" style="font-size: 10.00px;">任意密码登录</a><a href="/tags/任意读取文件漏洞/" style="font-size: 10.00px;">任意读取文件漏洞</a><a href="/tags/入侵/" style="font-size: 10.00px;">入侵</a><a href="/tags/后门/" style="font-size: 20.00px;">后门</a><a href="/tags/嗅探/" style="font-size: 10.00px;">嗅探</a><a href="/tags/图马/" style="font-size: 10.00px;">图马</a><a href="/tags/打飞机/" style="font-size: 10.00px;">打飞机</a><a href="/tags/注入漏洞/" style="font-size: 10.00px;">注入漏洞</a>
  </div>
</div>


    	<footer id="footer" class="inner"><div class="copyright">
  
  &copy; 2015 Return
  
</div>


<div style="position:relative; bottom: 23px">
  <script src="http://s95.cnzz.com/stat.php?id=4287542&web_id=4287542&show=pic1" language="JavaScript">
  </script>
</div>


</footer>
    </aside>
    
    
    <div id="hidden-navigationBar" class="navigationBar">
      <a href="/">Return&#39;s Blog </a>
    </div>
    <div id="main-col" class="alignright">
    <div id="wrapper">
      
<article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
  <header>
      
      
  
    <h1 class="title">android最近问题总结 </h1>
  

      <time datetime="2013-07-25T06:27:53.000Z"><a href="/html/2013-07-25-android最近问题总结.html">7月 25 2013</a></time>
      
  </header>
    <div class="entry">
      
        <p>1. 主线线程中更新UI<br>由于android的限制，不允许在主线程中对UI进行修改操作，必须要再新线程中。其实这点和lpython 的pyGtk很相似，估计都同为linux的产物。<br>自己更新UI的方式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//先声明一个Handler，用来接收消息</span></div><div class="line"><span class="keyword">private</span> Handler messageHandler;</div><div class="line"><span class="comment">//消息标识</span></div><div class="line"><span class="keyword">private</span> finalist UPDATE_UI = <span class="number">1</span>;</div><div class="line"></div><div class="line">messageHandler = <span class="keyword">new</span> Handler() {</div><div class="line"><span class="annotation">@Override</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleMessage</span>(Message msg) {</div><div class="line">    <span class="keyword">if</span> (msg.what == UPDATE_UI) {</div><div class="line">        updateUI(); <span class="comment">//更新UI的方法</span></div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>

<a id="more"></a>

<p>其中updateUI()方法中写自己需要更新的方法就行<br>那么如何触发？ 当然是发送消息了~<br>在需要更新的操作地方直接发送消息给handler就可以更新UI操作了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">messageHandler.sendEmptyMessageDelayed(UPDATE_UI, <span class="number">1000</span>);</div></pre></td></tr></table></figure>

<p>2.有时候在2.3的系统上测试正常的代码发放到4.0的系统上直接报网络错误，其实从3.0开始android是不允许在主线程中直接进行耗时操作如网络访问，所以还是需要在线程中进行网络操作。<br>自己用到的方式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//先声明一个Runnable，然后实现它的Run（）接口,在Runnable里面写自己的业务逻辑，如网络访问</span></div><div class="line">Runnable loginRunnable = <span class="keyword">new</span> Runnable() {</div><div class="line"><span class="annotation">@Override</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span>() {</div><div class="line"><span class="comment">//这里书写业务逻辑</span></div><div class="line">}};</div><div class="line"><span class="comment">//启动个新线程执行Runnable</span></div><div class="line"></div><div class="line"><span class="keyword">new</span> Thread(loginRunnable).start();</div><div class="line">其实自己用的最多的还是定义相关操作类，继承Runnable并且实现它的run接口</div><div class="line">还有一个Runable错误具体忘记了，不过在run开始前和结束前加上这两个方法就OK</div><div class="line"><span class="comment">//开始前</span></div><div class="line">Looper.prepare();</div><div class="line"><span class="comment">//结束前</span></div><div class="line">Looper.loop();</div></pre></td></tr></table></figure>

<p>3.json操作，android自带json处理方法，自己用的最多的是解析字符串json为对象。具体处理方法如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">String jsonStr = &quot;{status:<span class="number">1</span>, username:<span class="string">'creturn'</span>}&quot;;</div><div class="line"><span class="comment">//定义一个JSONToken加载json字符串</span></div><div class="line">JSONTokener jsonTokener = <span class="keyword">new</span> JSONTokener(jsonStr);</div><div class="line"></div><div class="line"><span class="comment">//定义json对象，从TOkenr中取得json</span></div><div class="line">JSONObject jsonObject = <span class="keyword">null</span>;</div><div class="line"></div><div class="line"><span class="comment">//使用此方法可取得json对象</span></div><div class="line">jsonObject = (JSONObject) jsonTokener.nextValue();</div><div class="line">例如要获取username可以这样获取</div><div class="line">jsonObject.getString(&quot;username&quot;)</div></pre></td></tr></table></figure>

<p>4.android里面读取assets目录下的文件<br>在activity里面或者能够访问到context的地方都行，最终用到里面的一个方法是：<br>getResources()</p>
<p>它会返回一个资源访问类，在里面有诸多访问资源的方法，我们用到的是里面的<br>getAssets()</p>
<p>用词方法里面会返回一个assetsManger类，通过assetsManger类里面的open方法就可以访问并返回一个InputStream<br>这样就可以对输入流进行操作了。具体代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">InputStream is = _conContext.getResources().getAssets().open(LOGIN_VIEW_BACKGROUND);</div></pre></td></tr></table></figure>

<p>其中—conContext是context类如果在activity里面就可以直接使用getResources方法<br>5.androi里面的layout纯代码操作，由于最近有一个项目比较特殊，需要打包成Jar给别人使用，但是又不能把过多的内容暴露在外面，<br>所以传统的在xml布局文件中得方法不得不放弃，采用纯代码写布局。<br>layout的操作，例如设置其参数默认layout里面没有的方法，那么就需要用到相应的layoutParms类来实现，例如给一个layout设置布局为宽度大小根据内容而定，高度一样根据内容来自适应那么代码就如下（以linnerlayout为例）：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//定义linearlayoutParms参数</span></div><div class="line">LinearLayout.LayoutParams layout_params = <span class="keyword">new</span> LinearLayout.LayoutParams(</div><div class="line">LinearLayout.LayoutParams.WRAP_CONTENT,</div><div class="line"></div><div class="line">LinearLayout.LayoutParams.WRAP_CONTENT);</div><div class="line"><span class="comment">//如果需要LinearLayout居中显示可以设置其gravity</span></div><div class="line">layout_params.gravity = Gravity.CENTER|Gravity.CENTER_HORIZONTAL|Gravity.CENTER_VERTICAL;</div><div class="line"></div><div class="line"><span class="comment">//设置参数</span></div><div class="line">LinearLayout.setLayoutParams(layout_params);</div></pre></td></tr></table></figure>

<p>6.纯代码绘制view的背景，并用指定图片进行平铺操作<br>首先用指定代码进行平铺那么就需要读取图片资源，就可以用到上面介绍的方法读取一个inputstream</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">InputStream is = _conContext.getResources().getAssets().open(&quot;图片地址&quot;);</div></pre></td></tr></table></figure>

<p>注意这里的图片是放在assets目录下面<br>由于所有的view最终不管你是用什么方式修改其背景，最终都会转换成drawble进行绘制，所以吧inputstream转换成一个drawable就行，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//从inputstream里面生成BitMapDrawable</span></div><div class="line">BitmapDrawable bitmapDrawable = (BitmapDrawable) BitmapDrawable.createFromStream(is, <span class="keyword">null</span>);</div><div class="line"><span class="comment">//这里设置其位纵横repeat也就是平铺</span></div><div class="line">bitmapDrawable.setTileModeXY(TileMode.REPEAT, TileMode.REPEAT);</div><div class="line"><span class="comment">//设置背景</span></div><div class="line"></div><div class="line">setBackgroundDrawable((Drawable) bitmapDrawable);</div></pre></td></tr></table></figure>

<p>7.  EditView编辑框中怎么定义其只允许输入指定的内容 ？ 其实如果是xml布局的话很简单，只要设置它的一个参数digits参数就行<br>但是悲剧的我只能用代码，那么怎么处理，其实不管是任何一个平台或者相应的和GUI有关的开发，第一个应该想到的就是它的事件，肯定有有关change的事件。在事件发生的适合判断输入的内容是否在允许范围内就行。代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">txt_username.addTextChangedListener(<span class="keyword">new</span> TextWatcher() {</div><div class="line">String tmp = &quot;&quot;; <span class="comment">//只允许输入的字符</span></div><div class="line">String digits = &quot;@._0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLIMNOPQRSTUVWXYZ&quot;;</div><div class="line"><span class="annotation">@Override</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTextChanged</span>(CharSequence s, <span class="keyword">int</span> start, <span class="keyword">int</span> before, <span class="keyword">int</span> count) {</div><div class="line">}</div><div class="line"><span class="annotation">@Override</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">beforeTextChanged</span>(CharSequence s, <span class="keyword">int</span> start, <span class="keyword">int</span> count,<span class="keyword">int</span> after) {</div><div class="line">}</div><div class="line"><span class="annotation">@Override</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterTextChanged</span>(Editable s) {</div><div class="line">String str = s.toString();</div><div class="line"><span class="keyword">if</span>(str.equals(tmp)){</div><div class="line"><span class="keyword">return</span>;</div><div class="line">}</div><div class="line">StringBuffer sb = <span class="keyword">new</span> StringBuffer();</div><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &amp;lt; str.length(); i++){</div><div class="line"><span class="keyword">if</span>(digits.indexOf(str.charAt(i)) &amp;gt;= <span class="number">0</span>){</div><div class="line">sb.append(str.charAt(i));</div><div class="line">}</div><div class="line">}</div><div class="line">tmp = sb.toString();</div><div class="line">txt_username.setText(tmp);</div><div class="line">txt_username.requestFocus();</div><div class="line">txt_username.setSelection(tmp.length());</div><div class="line">}</div><div class="line"></div><div class="line">});</div></pre></td></tr></table></figure>

<p>8. WebView 在制作sdk过程中其中一个过程需要用到webview，这个webview就是用来访问http。但是使用过程中也碰到一些问题，比如在实例化一个WebView的时候，通常根据他它的参数提示，创建的时候就直接传递Context就行，但是，如果用这样创建的webview来访问http的页面，当再次点击里面的链接的时候就直接报错，所以解决方法就行hi生成webview的时候把当前activiy传递进去，大妈如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">WebView webView = <span class="keyword">new</span> WebView(<span class="keyword">this</span>);</div></pre></td></tr></table></figure>

<p>但是新的问题由来了，虽然不报错了可是所有打开的链接都是通过默认浏览器来执行了，这个显然不是我要的结果，解决方法就是设置一个WebViewClient进行相应的方法重写来实现，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//获取webview的setting</span></div><div class="line">WebSettings webset = webView.getSettings();</div><div class="line"><span class="comment">//启用javascript的支持，不然js就不起作用了</span></div><div class="line">webset.setJavaScriptEnabled(<span class="keyword">true</span>);<span class="comment">// 添加web view client ,监听里面的事件webView.setWebViewClient(new WebViewClient() {</span></div><div class="line"><span class="annotation">@Override</span></div><div class="line">publicboolean shouldOverrideUrlLoading(WebView view, String url) {<span class="comment">// 如果是自定义事件</span></div><div class="line"><span class="keyword">if</span> (url.startsWith(&quot;http:<span class="comment">//msg_&quot;)) {</span></div><div class="line"><span class="comment">// 自定义事件处理}return super.shouldOverrideUrlLoading(view, url);</span></div><div class="line">}</div><div class="line"></div><div class="line">}</div></pre></td></tr></table></figure>

<p>其实只要重写shouldOverrideUrlLoading方法不做任何处理就能够在你的web view里面访问新的链接，这里面的url是每次访问的任何一个自由的url地址。由于自身项目原因我这里需要自定义事件，其实就是根据url地址栏的变化自定义自己的消息。这里需要注意的是之前用过python写webkit自定义时间开头用的都是”event://“来自定义时间，但是如果是服务器返回event://来触发时间那么你的愿望将要落空，因为event://服务器是不认的web服务器是泡在http协议上的所以event://是不会返回给客户端的。了解了这个原理，现在的那些神马基于webkit的GUI用html写跨平台APP还有那么神秘吗？</p>
<p>9. android模拟器中如何访问本机的web服务器？</p>
<p>由于需要和服务器进行通信并进行数据交互，但是在模拟器中肯定不能通过127.0.0.1来进行访问了，其实有两种方法<br>第一种，直接访问本机内网IP地址就行<br>第二种， 10.0.2.2 是保留地址，供android模拟器访问本地网络<br>10. 按home见后退出activity并重新加载了？ 有时候我们切换应用的适合难免按到home不过如果不做任何设置，从新进来的activity是重新启动吃的初始的activity。<br>解决方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">androidmanifest中的actvity中加入一个参数android:launchMode=&quot;singleTask&quot;</div></pre></td></tr></table></figure>

<p>11. 在一个非aictivy中如何启动一另外一个activity，并且实现回调？<br>当时这个问题真把自己难倒了，启动一个activity其实只要有context基本就可以，但是还要实现回调，因为是通过一个非activity来启动另外一个activity所以就不能用到常规的方法了。其实解决方法还是比价简单，只是当时自己没有想到。</p>
<p>解决方法就是定义一个单例，把回调方法塞到她里面去，单例在整个运行过程中始终保持单例，所以可以通过单例进行跳转一次来实现回调。代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CallbackListenner</span> </span>{</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSuccess</span>(Bundle bundle);</div><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span>(Bundle bundle);</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line">class signalClass {</div><div class="line"><span class="comment">//回调接口</span></div><div class="line"><span class="keyword">private</span> CallbackListener;</div><div class="line"><span class="comment">//获取单例</span></div><div class="line"><span class="keyword">public</span> <span class="title">getInstance</span>(){</div><div class="line"><span class="comment">// …..</span></div><div class="line">}</div><div class="line"></div><div class="line">publicvoid startLoginDialog(CallbackListenner callback) {</div><div class="line">    CallbackListener = callback;</div><div class="line">	Intent intent = <span class="keyword">new</span> Intent(_context,JoyCenterActivity.class); intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); _context.startActivity(intent);</div><div class="line">	}</div><div class="line"></div><div class="line">}</div></pre></td></tr></table></figure>

<p>在A的activity里面用startLoginDialog启动另外一个activity就可以了。只要在B的activity里面执行</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">signalClass.getInstance().CallbackListener.onsuccess(bundle);</div></pre></td></tr></table></figure>

<p>就可以实现回调了<br>12. android 中jqueryMobile page切换和dialog弹出时候抖屏或者白屏问题<br>加入下面代码即可：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$(document).bind(&quot;mobileinit&quot;, function(){</div><div class="line">	<span class="keyword">if</span> (navigator.userAgent.indexOf(&quot;Android&quot;) != -<span class="number">1</span>){</div><div class="line">		$.mobile.defaultPageTransition = <span class="string">'none'</span>;</div><div class="line">		$.mobile.defaultDialogTransition = <span class="string">'none'</span>;</div><div class="line">	}</div><div class="line">});</div></pre></td></tr></table></figure>

<p>但这里需要注意的一点是，加入这段代码要在引入jqueryMobile之前，作用很明显了，就是绑定属性去掉过渡效果</p>

	 
	     <p style="margin:20px 0; color:#9f9f9f; font-size:12px;">
<span>Posted by <a style="color:#9f9f9f;" href="http://weibo.com/creturn"><strong>creturn</strong></a> - 7月 25 2013</span><br />
<span style="line-height:13px;">如需转载，请注明： 本文来自 <a style="color:#9f9f9f;" href="http://creturn.com"><strong>Return&#39;s Blog </strong></a></span>
</p>
       	 
      
    </div>
    <footer>
      
	 
     		  
  
  <div class="categories">
    <a href="/categories/原创作品/">原创作品</a>, <a href="/categories/原创作品/技术文章/">技术文章</a>
  </div>

       		
  
  <div class="tags">
    <a href="/tags/android/">android</a>
  </div>

     		  
       	 
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


</div>
    </div>
    <div class="tabbar" onload="divideTabBar()">
	
      <div class="tabbaritem"><a class="next" href="/">Home</a></div>
    
      <div class="tabbaritem"><a class="next" href="/archives/">Archives</a></div>
    
      <div class="tabbaritem"><a class="next" href="/about/">About</a></div>
    
</div>


  </div>
</body>
</html>